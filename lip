-- Life in Prison Roblox - Flare Gun Auto Shoot + Infinite Ammo
-- Toggle with Q (Hold equipped & press Q to start/stop rapid fire)
-- Works by spamming the shoot remote (bypasses ammo checks via flood)
-- Equip Flare Gun to slot 3 (or adjust hotkey), stand & aim where you want

local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local VirtualInputManager = game:GetService("VirtualInputManager")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local enabled = false

-- Assume same RemoteEvent as propane (common in prison games) - adjust if different
local remote = ReplicatedStorage:WaitForChild("Events"):WaitForChild("RemoteEvent")

local FLARE_GUN_HOTKEY = Enum.KeyCode.Three  -- Change if not slot 3
local TOGGLE_KEY = Enum.KeyCode.Q

local function isFlareGunEquipped()
    local character = player.Character
    if not character then return false end
    
    local tool = character:FindFirstChildWhichIsA("Tool")
    if tool and (tool.Name:lower():find("flare") or tool.Name == "Flare Gun") then
        return true
    end
    return false
end

local function doAutoShoot()
    if not enabled then return end
    if not isFlareGunEquipped() then 
        print("[Flare Auto] Equip Flare Gun first!")
        return 
    end
    
    -- Spam the shoot remote (typical args: mouse hit or empty for auto)
    -- Common prison game shoot args: {} or {mouse.Hit.p} - test & adjust
    pcall(function()
        remote:FireServer()  -- Try empty args first
    end)
    
    -- Alt: If needs mouse pos (uncomment if empty fails)
    -- local mouse = player:GetMouse()
    -- remote:FireServer(mouse.Hit.Position)
end

local function toggle()
    enabled = not enabled
    print(enabled and "[Flare Gun Auto] ON â†’ Infinite rapid fire!" or "[Flare Gun Auto] OFF")
    
    if enabled then
        task.spawn(function()
            while enabled do
                pcall(doAutoShoot)
                task.wait(0.08)  -- Fast fire rate (~12 shots/sec) - increase to 0.15+ if kicked for spam
            end
        end)
    end
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == TOGGLE_KEY then
        toggle()
    end
end)

print("[Life in Prison Flare Gun Auto] Loaded!")
print("1. Equip Flare Gun (slot 3)")
print("2. Aim where you want")
print("3. Press Q to toggle auto-shoot (infinite via spam bypass)")
