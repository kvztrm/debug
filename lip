-- LocalScript (put in StarterPlayerScripts)
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local active = false
local connection = nil
local relkontas = nil

-- Find relkontas player
local function findRelkontas()
    for _, p in pairs(Players:GetPlayers()) do
        if p.Name:lower():find("relkontas") or p.DisplayName:lower():find("relkontas") then
            relkontas = p
            print("Found relkontas:", p.Name)
            return true
        end
    end
    return false
end

-- Function to update hitbox CFrames to relkontas position
local function updateHitboxes()
    if not relkontas or not relkontas.Character or not relkontas.Character:FindFirstChild("HumanoidRootPart") then
        return
    end
    
    local targetCFrame = relkontas.Character.HumanoidRootPart.CFrame
    
    local count = 0
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj.Name == "TridentWaveHitbox" and obj:IsA("BasePart") then
            obj.CFrame = targetCFrame
            obj.Transparency = 0.3 -- Optional: make visible
            obj.BrickColor = BrickColor.new("Bright red") -- Optional: color it
            count = count + 1
        end
    end
    
    if count > 0 then
        print("Updated " .. count .. " hitboxes to relkontas CFrame")
    end
end

-- Toggle function
local function toggle()
    active = not active
    if active then
        print("TridentWave RELKONTAS TRACKER: ON (Q to toggle, N to kill)")
        
        -- Find relkontas first
        if not findRelkontas() then
            print("WARNING: relkontas not found! Searching...")
            -- Keep searching for relkontas
            local searchConn
            searchConn = Players.PlayerAdded:Connect(function(p)
                if p.Name:lower():find("relkontas") then
                    findRelkontas()
                    searchConn:Disconnect()
                end
            end)
        end
        
        -- Initial update
        updateHitboxes()
        
        -- Update every frame
        connection = RunService.Heartbeat:Connect(updateHitboxes)
        
    else
        print("TridentWave RELKONTAS TRACKER: OFF")
        if connection then
            connection:Disconnect()
            connection = nil
        end
    end
end

-- Kill function
local function kill()
    print("KILLING TridentWaveHitbox...")
    local count = 0
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj.Name == "TridentWaveHitbox" then
            obj:Destroy()
            count = count + 1
        end
    end
    print("Destroyed " .. count .. " TridentWaveHitbox")
end

-- Monitor relkontas joining
Players.PlayerAdded:Connect(function(p)
    if active and (p.Name:lower():find("relkontas") or p.DisplayName:lower():find("relkontas")) then
        findRelkontas()
    end
end)

-- Input handling
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    
    if input.KeyCode == Enum.KeyCode.Q then
        toggle()
    elseif input.KeyCode == Enum.KeyCode.N then
        kill()
    end
end)

print("Relkontas TridentWave Tracker Loaded!")
print("Q = Toggle tracking relkontas CFrame")
print("N = Kill all TridentWaveHitbox")
print("Default: OFF")
