-- Iris UI Menu with Dropdown to control Simple Box ESP + Aimbot features
-- Paste & execute in your executor

local Iris = loadstring(game:HttpGet("https://raw.githubusercontent.com/x0581/Iris-Exploit-Bundle/2.0.4/bundle.lua"))().Init(game.CoreGui)

-- ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
-- ESP + Aimbot Settings & Logic (from your provided code)
-- ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Workspace = game:GetService("Workspace")
local Camera = Workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

local settings = {
    enabled = false,       -- Aimbot toggle
    espEnabled = false,    -- ESP toggle
    fov = 80,
    aimKey = Enum.KeyCode.Q,
    espKey = Enum.KeyCode.Z,
    aimPart = "Head",
    smoothing = 0.05,
    wallCheck = false,
    teamCheck = false
}

local currentTarget = nil
local espDrawings = {}

-- (Paste all your functions here: worldToScreen, getScreenSize, isTargetVisible, findTargetAtMouse,
-- createPlayerESP, clearPlayerESP, toggleESP, getPlayerTeamInfo, isSameTeam, aimAt, updateTargetDisplay)

-- [IMPORTANT: You MUST copy-paste ALL the functions and loops from your original code here]
-- For brevity, assuming you insert them right after this comment block.
-- The dropdown will control: ESP toggle, Aimbot toggle, Wall Check, Team Check, Aim Part, FOV

-- Example placeholders (replace with your actual code):
function toggleESP() settings.espEnabled = not settings.espEnabled end
-- ... add the rest ...

-- ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
-- Iris UI with Dropdown Controls
-- ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Iris:Connect(function()
    Iris.Window({"ESP & Aimbot Controls"}, { [Iris.Args.Window.NoResize] = true })
        Iris.Text({"Simple Box ESP + Aimbot Menu"})

        -- Dropdown: Main Controls
        Iris.Combo({"Main Toggle"}, {
            "Toggle Aimbot (Q key also works)",
            "Toggle ESP (Z key also works)",
            "Toggle Wall Check",
            "Toggle Team Check",
            "Switch Aim Part (Head ↔ Torso)",
            "Increase FOV (+5)",
            "Decrease FOV (-5)"
        })

        -- Handle selection (Iris Combo calls back via state or manual check – here we use simple if)
        -- Note: In this bundle version, Combo doesn't have direct callback; we poll state or use button style.
        -- For simplicity, use separate buttons instead of one mega-dropdown (cleaner UX)

        if Iris.Button({"Toggle Aimbot"}).clicked() then
            settings.enabled = not settings.enabled
            Iris.Text({"Aimbot: " .. (settings.enabled and "ON" or "OFF")})
        end

        if Iris.Button({"Toggle ESP"}).clicked() then
            toggleESP()
            Iris.Text({"ESP: " .. (settings.espEnabled and "ON" or "OFF")})
        end

        if Iris.Button({"Toggle Wall Check"}).clicked() then
            settings.wallCheck = not settings.wallCheck
            Iris.Text({"Wall Check: " .. (settings.wallCheck and "ON" or "OFF")})
        end

        if Iris.Button({"Toggle Team Check"}).clicked() then
            settings.teamCheck = not settings.teamCheck
            Iris.Text({"Team Check: " .. (settings.teamCheck and "ON" or "OFF")})
        end

        if Iris.Button({"Switch Aim Part"}).clicked() then
            settings.aimPart = settings.aimPart == "Head" and "HumanoidRootPart" or "Head"
            Iris.Text({"Aim Part: " .. settings.aimPart})
        end

        if Iris.Button({"FOV +5"}).clicked() then
            settings.fov = math.min(settings.fov + 5, 200)
            Iris.Text({"FOV: " .. settings.fov})
        end

        if Iris.Button({"FOV -5"}).clicked() then
            settings.fov = math.max(settings.fov - 5, 20)
            Iris.Text({"FOV: " .. settings.fov})
        end

        -- Status labels
        Iris.Text({"Aimbot Active: " .. tostring(settings.enabled)})
        Iris.Text({"ESP Active: " .. tostring(settings.espEnabled)})
        Iris.Text({"Wall Check: " .. tostring(settings.wallCheck)})
        Iris.Text({"Current Aim Part: " .. settings.aimPart})
        Iris.Text({"FOV: " .. settings.fov})

    Iris.End()
end)

-- Keep your original keybinds and loops running outside Iris
-- (Your RunService connections, InputBegan, etc. go here as before)
