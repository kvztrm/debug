-- Simple Aimbot - No Menu
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local Mouse = LocalPlayer:GetMouse()

local enabled = false
local target = nil

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Q and input.UserInputType == Enum.UserInputType.Keyboard then
        enabled = not enabled
        
        if enabled then
            -- Find closest player
            local closest, dist = nil, 5000
            local myRoot = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if myRoot then
                for _, p in ipairs(Players:GetPlayers()) do
                    if p ~= LocalPlayer and p.Character then
                        local root = p.Character:FindFirstChild("HumanoidRootPart")
                        local head = p.Character:FindFirstChild("Head")
                        if root and head then
                            local d = (root.Position - myRoot.Position).Magnitude
                            if d < dist then
                                dist = d
                                closest = p
                            end
                        end
                    end
                end
            end
            
            target = closest
            
            if target then
                for i = 1, 10 do
                    local part = target.Character and (target.Character:FindFirstChild("Head") or target.Character:FindFirstChild("HumanoidRootPart"))
                    if part then
                        Camera.CFrame = CFrame.new(Camera.CFrame.Position, part.Position)
                        Mouse.Hit = CFrame.new(part.Position)
                    end
                    game.RunService.Heartbeat:Wait()
                end
            else
                enabled = false
            end
        else
            target = nil
        end
    end
end)

RunService.RenderStepped:Connect(function()
    if enabled and target and target.Character then
        local part = target.Character:FindFirstChild("Head") or target.Character:FindFirstChild("HumanoidRootPart")
        if part then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, part.Position)
            Mouse.Hit = CFrame.new(part.Position)
        end
    end
end)
